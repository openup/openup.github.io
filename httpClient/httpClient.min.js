var __extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HttpRequest=function(){function t(){this.http=this.getHTTPObject()}return t.prototype.getHTTPObject=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}return!1},t}(),Http=function(n){function t(t){var e=n.call(this)||this;return e.responseType="json",e.responseType=t||e.responseType,e}return __extends(t,n),t.prototype.Xhttp=function(r,o){var s=this,u=this.http;return new Promise(function(t,e){u.open(s.method,s.url),u.responseType=s.responseType,u.timeout=3e3,u.setRequestHeader("Content-Type","application/json"),o&&o instanceof Object&&0<Object.keys(o).length&&Object.keys(o).forEach(function(t){u.setRequestHeader(t,o[t])}),u.onreadystatechange=function(){4===u.readyState&&(200===u.status?u.onload=function(){return t(u.response)}:u.onerror=function(){return e(u.statusText||u.response||"Erreur Traitement de données !")})};var n=u.send(r||null);n||(u.onerror=function(){return e(n||"Erreur Traitement de données !")})})},t.prototype.get=function(t,e){return this.method="get",this.url=t,this.Xhttp(null,e)},t.prototype.post=function(t,e,n){return this.method="post",this.url=t,this.Xhttp(e?JSON.stringify(e):null,n)},t.prototype.abort=function(){this.http.abort()},t}(HttpRequest);