import{a as T,b as q}from"./chunk-6BQBCYCB.js";import{b as E,g as F,i as O,k as U,l as L}from"./chunk-D6V4JEHR.js";import{Db as s,Eb as l,Ia as S,Kb as k,La as n,Lb as R,Ma as d,T as v,Y as g,ba as y,bb as I,ca as m,db as w,g as b,ha as x,ib as p,kb as _,lb as D,mb as r,nb as o,oa as C,pc as M,ub as h,xb as j,ya as u}from"./chunk-OIDB7KAK.js";function f(e){e||(C(f),e=m(u));let a=new b(t=>e.onDestroy(t.next.bind(t)));return t=>t.pipe(v(a))}var A=(()=>{class e{constructor(t){this.http=t,this.baseUrl=T.ApiUrl+q.Commits}searchCommits(t){let i=this.baseUrl.replace(/repoID/i,t);return this.http.get(i)}static{this.\u0275fac=function(i){return new(i||e)(y(E))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var P=(e,a)=>a==null?null:a.node_id,$=()=>["/repos"];function H(e,a){if(e&1&&(r(0,"p",2),s(1),o()),e&2){let t=h();n(),l(t.alertMsg)}}function V(e,a){if(e&1&&(r(0,"tr")(1,"td"),s(2),o(),r(3,"td")(4,"a",4),s(5),o()(),r(6,"td"),s(7),o()()),e&2){let t=a.$implicit;n(2),l(t.commit.author.name),n(2),j("href",t.commit.url,S),n(),l(t.commit.url),n(2),l(t.commit.message)}}function B(e,a){if(e&1&&(r(0,"table",3)(1,"thead")(2,"tr")(3,"th"),s(4,"Author"),o(),r(5,"th"),s(6,"Url"),o(),r(7,"th"),s(8,"Message"),o()()(),r(9,"tbody"),_(10,V,8,4,"tr",null,P),o()()),e&2){let t=h();n(10),D(t.commits)}}var fe=(()=>{class e{constructor(t,i,c){this.route=t,this._commitsService=i,this._spinner=c,this.repoID="",this.alertMsg="",this.destroyRef=m(u)}ngOnInit(){this.route.paramMap.pipe(f(this.destroyRef)).subscribe(t=>{this.repoID=t.get("repoId")||"",this._spinner.show(),this._commitsService.searchCommits(this.repoID).subscribe(i=>{this.commits=[...i],i.length||(this.alertMsg="No records Found !"),this._spinner.hide()},i=>{this.alertMsg=i.error.message,this._spinner.hide()})})}static{this.\u0275fac=function(i){return new(i||e)(d(F),d(A),d(L))}}static{this.\u0275cmp=x({type:e,selectors:[["ng-component"]],standalone:!0,features:[k],decls:5,vars:4,consts:[[1,"block"],[1,"a-button",3,"routerLink"],[1,"alert-message","mat-elevation-z8"],["width","100%","cellPadding","4px","cellSpacing","4px",1,"data-list"],["target","_blank",3,"href"]],template:function(i,c){i&1&&(r(0,"div",0)(1,"a",1),s(2,"\u290C Repos"),o()(),I(3,H,2,1,"p",2)(4,B,12,0,"table",3)),i&2&&(n(),w("routerLink",R(3,$)),n(2),p(3,c.alertMsg?3:-1),n(),p(4,(c.commits==null?null:c.commits.length)!=0?4:-1))},dependencies:[M,U,O],encapsulation:2})}}return e})();export{fe as CommitsComponent};
